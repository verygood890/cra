<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>반응속도</title>
    <style>
        #screen {
            width: 300px;
            height: 200px;
            text-align: center;
            user-select: none;
        }
        #screen.waiting {
            background-color: rgb(10, 116, 255);
        }
        #screen.ready {
            background-color: red;
            color: white;
        }
        #screen.clicknow{
            background-color: greenyellow;
        }
    </style>
</head>
<body>
    <div id = "screen" class="waiting">클릭해서 시작하기</div>
    <div id = "result"></div>
</body>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const screen = document.querySelector("#screen");
  const result = document.querySelector("#result");

  let startTime; // 시작시간
  let endTime; // 측정 시간
  let responseTime; //  걸린 시간

  screen.addEventListener("click", () => {
    if (screen.classList.contains("waiting")) {
      screen.classList.replace("waiting", "ready");
      screen.textContent = "초록색이 되면 클릭";

      setTimeout(() => {
        startTime = new Date();
        screen.classList.replace("ready", "clicknow");
        screen.textContent = "클릭 하세요!";
      }, Math.floor(Math.random() * 1000) + 2000);
    }else if (screen.classList.contains("ready")) {
      screen.textContent = '너무 성급합니다!';
      screen.classList.replace('ready', 'waiting');
    } else if (screen.classList.contains("ready")) {
    } else if (screen.classList.contains("clicknow")) {
      endTime = new Date();
      responseTime = endTime - startTime; // 걸린 시간
      result.textContent = responseTime + "ms";
      screen.classList.replace("clicknow", "waiting");
      screen.textContent = "클릭해서 시작하기";
    }
  });
});
</script>
</html>